% -*- encoding: utf-8 -*-

\documentclass[12pt,titlepage,twoside,openright,dvipdfmx]{jsbook}

\interfootnotelinepenalty=10000

\usepackage{amsmath,stmaryrd,amssymb,amsthm,algorithm,algpseudocode,color,bcprules,url}
\usepackage{proof}
\usepackage{enumerate}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{okumacro-ruby}
% \makeindex

\usepackage{enumerate}
\usepackage[inference]{semantic}
\usepackage[dvipdfmx]{graphicx}

\title{『プログラミング言語の形式的意味論』正誤表}
\author{末永 幸平 \and 勝股 審也 \and 中澤 巧爾 \and 西村 進 \and 前田 敦司}
\date{最終更新: \today}

%%%%%%%%%%%%%%%% Definitions of global commands %%%%%%%%%%%%%%%%
% DON'T ADD A COMMAND DEFINITION HERE.  Add your command definition in
% xxx-def.tex

% Name of the languages used throughout the book.
\newcommand\IMP{\mathbf{IMP}}
\newcommand\ASSN{\mathbf{Assn}}
\newcommand\REC{\mathbf{REC}}

% Environments used in the book
\theoremstyle{definition}
\newtheorem{theorem}{定理}[chapter]
\newtheorem{proposition}[theorem]{命題}
\newtheorem{lemma}[theorem]{補題}
\newtheorem{fact}[theorem]{事実}
\newtheorem{exercise}[theorem]{問題}
\newtheorem{corollary}[theorem]{系}
\newtheorem{example}[theorem]{例}
\newtheorem*{exampleN}{例} % \cmt{西村}{番号なしの例のための環境}
\newtheorem*{definition}{定義}
\newtheorem*{notation}{記法}

\input{defs}

\begin{document}

\maketitle
% \tableofcontents

\section*{まえがき}

\begin{itemize}
\item 「本書の使い方」の段落において第13章と第14章に言及がありますが，本翻訳ではこれらの章は割愛されています．
\end{itemize}

\section*{第1章}

\begin{itemize}
\item P.3, 1.2節，第2段落: 「$X$と$Y$が等しいことを示すの方法の一つである」とあるのは「$X$と$Y$が等しいことを示す方法の一つである」の誤りです．
\item P.9, 1.3節，第4段落: 「$X$から$Y$の部分関数」とあるのは「$X$から$Y$への部分関数」の誤りです．
\end{itemize}

\section*{第2章}

\begin{itemize}
  \item P.22, 2.3節: $b_1 \land b_2$ のための操作的意味論の3つ目の規則が
    \infrule
    {\tuple{b_0, \sigma} \arrow \Ttrue \andalso \tuple{b_1, \sigma} \arrow \Ttrue}
    {\tuple{b_0 \land b_1, \sigma} \arrow \Tfalse}
    とあるのは
    \infrule
    {\tuple{b_0, \sigma} \arrow \Ttrue \andalso \tuple{b_1, \sigma} \arrow \Ttrue}
    {\tuple{b_0 \land b_1, \sigma} \arrow \Ttrue}
    の誤りです．
  \item P.24, 問題2.7: 「$w \sim \Cif\ b\ \Cthen\ (c;w)\ \Celse\ \Cskip$」とあるのは「$w \equiv \Cwhile\ \Ttrue\ \Cdo\ \Cskip$」の誤りです．
  \item P.25, 2.5節，第3段落: 「状態を変えずにすぐ停止しするだろう」とあるのは「状態を変えずにすぐ停止するだろう」の誤りです．
  \item P.29, 2.6節, 第2段落:
    「状態$\sigma$において$a_0$の1ステップの評価によって式$a_0'$と状
    態$\sigma'$が得られるとき，$a_0+a_1$の状態$\sigma$の下での1ステップ
    の評価によって式$a_0'+a_1$と状態$\sigma'$が得られる．」は
    「状態$\sigma$において$a_0$の1ステップの評価によって式$a_0'$と状
    態$\sigma$が得られるとき，$a_0+a_1$の状態$\sigma$の下での1ステップ
    の評価によって式$a_0'+a_1$と状態$\sigma$が得られる．」の誤りです．
\end{itemize}

\section*{第3章}

\newcommand{\AexpBinPropB}{
  \forall{a_0,a_1\in\mathbf{Aexp},\sigma\in\Sigma,m,n\in\mathbf{N}}. \\ &
  \tuple{a_0,\sigma}\rightarrow m \AND
  \tuple{a_1,\sigma}\rightarrow n \AND
}

\newcommand{\BexpBinProp}{
  \forall{b_0,b_1\in\mathbf{Bexp},\sigma\in\Sigma,t\in\mathbf{T}}. \\ &
  \tuple{b_0,\sigma}\rightarrow t_0 \AND P(b_0,\sigma,t_0) \AND
  \tuple{b_1,\sigma}\rightarrow t_1 \AND P(b_1,\sigma,t_1) \AND
}  

\begin{itemize}
\item P.35, 3.2節, 第2段落: 「すべての位置$X$について」は「すべてのプログラム変数$X$について」の誤りです．
\item P.41,
  3.3節:「$\tuple{\text{Euclid},\sigma''}\rightarrow\sigma''$とな
  る$\sigma''$が存在する」は
  「$\tuple{\text{Euclid},\sigma''}\rightarrow\sigma'$となる$\sigma'$が
  存在する」の誤りです．
\item P.46, 3.4節:「性質が偽となる最小の導出が存在するという仮定」は「性質が偽となる極小の導出が存在するという仮定」の誤りです．
  また，命題3.12の証明において，「最小の導出$d$が存在して」は「極小の導出$d$が存在して」の誤り，「$d$の最小性に矛盾する」は「$d$の極小性に矛盾する」です．
\item P.46, 3.4節, 命題3.12の証明:「$\exists{\sigma,\sigma'\in\Sigma}.\;\Vdash\tuple{w,\sigma}\rightarrow\sigma'$」は「$\exists{\sigma,\sigma'\in\Sigma}.\; d \Vdash\tuple{w,\sigma}\rightarrow\sigma'$」の誤りです．
\item P.46, 3.4節, 命題3.12の証明:
  \[
    d =
    \infer
    {\tuple{\mathbf{while\ true\ do}\ c, \sigma}\rightarrow \sigma'}
    {
      \infer
      {\tuple{\mathbf{true},\sigma}\rightarrow\mathbf{true}}
      {\vdots}
      &
      \infer
      {\tuple{c,\sigma}\rightarrow\sigma''}
      {\vdots}
      &
      \infer
      {\tuple{\mathbf{while\ true\ do}\ c,\sigma''}\rightarrow\sigma'}
      {\vdots}
    }
  \]
  は
  \[
    d =
    \infer
    {\tuple{\mathbf{while\ true\ do}\ \Cskip, \sigma}\rightarrow \sigma'}
    {
      \infer
      {\tuple{\mathbf{true},\sigma}\rightarrow\mathbf{true}}
      {\vdots}
      &
      \infer
      {\tuple{\Cskip,\sigma}\rightarrow\sigma}
      {\vdots}
      &
      \infer
      {\tuple{\mathbf{while\ true\ do}\ \Cskip,\sigma}\rightarrow\sigma'}
      {\vdots}
    }
  \]
  の誤りです．
\item P.46, 3.5節:「コマンド内で，代入の左辺に現れる位置の集合」は「コマンド内で，代入の左辺に現れるプログラム変数の集合」の誤りです．
\item P.47, 3.5節:「実際，整礎な集合の任意の空でない部分集合には最小の
  要素が存在するという命題3.7の証明の中では，暗黙のうちに自然数の帰納的
  な定義を用いて，空でない集合中に最小の要素を持つ列を構成した．」は
  「実際，整礎な集合の任意の空でない部分集合には極小の要素が存在すると
  いう命題3.7の証明の中では，暗黙のうちに自然数の帰納的な定義を用いて，
  空でない集合中に極小の要素を持つ列を構成した．」の誤りです．
\item P.47, 問題3.13:「右辺の中に現れる位置の集合」は「右辺の中に現れる
  プログラム変数の集合」の誤りです．
\end{itemize}

\section*{第4章}

\begin{itemize}
  \item P.53, 4.2節: 以下の規則
  \[
    \infer
    {\mathbf{if}\ b\ \mathbf{then}\ c_0\ \mathbf{else}\ c_1:\mathbf{Com}}
    {b:\mathbf{Bexp} & c_0:\mathbf{Com} & c1:\mathbf{Com}}
  \]
  は
  \[
    \infer
    {\mathbf{if}\ b\ \mathbf{then}\ c_0\ \mathbf{else}\ c_1:\mathbf{Com}}
    {b:\mathbf{Bexp} & c_0:\mathbf{Com} & c_1:\mathbf{Com}}
  \]
  の誤りです．
\item P.55, 4.3.2節: $p(\Ttrue, \sigma,\Ttrue)$は$P(\Ttrue, \sigma, \Ttrue)$の誤りです．
\item P.56, 上から9行目:
  $m \not\le n \Rightarrow P(a_0 \not\le a_1,\sigma,\mathbf{false})$
  は
  $m \not\le n \Rightarrow P(a_0 \le a_1,\sigma,\mathbf{false})$
  の誤りです．
\item P.56, 上から14行目:
  \[
    \begin{array}{ll}
    \AND\\
    \forall{b_0,b_1\in\mathbf{Bexp},\sigma\in\Sigma,t\in\mathbf{T}}.\\
      \tuple{b_0,\sigma}\rightarrow t_0 \AND P(b_0,\sigma,t_0) \AND \tuple{b_1,\sigma}\rightarrow t_1 \AND P(b_1,\sigma,t_1) \AND P(b_0\wedge b_1,\sigma, t_0\wedge t_1)\\
      \AND\\
      \forall{b_0,b_1\in\mathbf{Bexp},\sigma\in\Sigma,t\in\mathbf{T}}.\\
      \tuple{b_0,\sigma}\rightarrow t_0 \AND P(b_0,\sigma,t_0) \AND \tuple{b_1,\sigma}\rightarrow t_1 \AND P(b_1,\sigma,t_1) \AND P(b_0\vee b_1,\sigma, t_0\vee t_1) \rbrack
    \end{array}
  \]
  は
  \[
    \begin{array}{ll}
    \AND\\
      \forall{b_0,b_1\in\mathbf{Bexp},\sigma\in\Sigma,t_0,t_1\in\mathbf{T}}.\\
      \tuple{b_0,\sigma}\rightarrow t_0 \AND P(b_0,\sigma,t_0) \AND \tuple{b_1,\sigma}\rightarrow t_1 \AND P(b_1,\sigma,t_1) \implies P(b_0\wedge b_1,\sigma, t_0\wedge t_1)\\
      \AND\\
      \forall{b_0,b_1\in\mathbf{Bexp},\sigma\in\Sigma,t_0,t_1\in\mathbf{T}}.\\
      \tuple{b_0,\sigma}\rightarrow t_0 \AND P(b_0,\sigma,t_0) \AND \tuple{b_1,\sigma}\rightarrow t_1 \AND P(b_1,\sigma,t_1) \implies P(b_0\vee b_1,\sigma, t_0\vee t_1) \rbrack
    \end{array}
  \]
  の誤りです．
\item P.58, 上から9行目:
  「$c_0,c_1\in\mathbf{Com}, \sigma,\sigma'\in\Sigma$とする．」は
  「$c_0,c_1\in\mathbf{Com}, \sigma,\sigma',\sigma''\in\Sigma$とする．」
  の誤りです．
\item P.60, 問題4.10:
  \[
    \tuple{c_0;c_1,\sigma}\rightarrow_1^*\sigma'
    {{\iff}_{\mathit{def}}}\
    \exists{\sigma''}.\;\tuple{c_0,\sigma}\rightarrow_1^*\sigma''\AND
    \tuple{c_1,\sigma''}\rightarrow_1^*\sigma'
  \]
  は
  \[
    \tuple{c_0;c_1,\sigma}\rightarrow_1^*\sigma' \iff
    \exists{\sigma''}.\;\tuple{c_0,\sigma}\rightarrow_1^*\sigma''\AND
    \tuple{c_1,\sigma''}\rightarrow_1^*\sigma'
  \]
  の誤りです．（左辺に現れる関
  係${\rightarrow}_1^{*}$は${\rightarrow}_1$の反射推移閉包としてすでに
  定義されており，ここは左辺の関係を右辺で定義するという趣旨ではありま
  せんでした．）
\item P.62, 命題4.12 の証明の直後の文章において
  \begin{quote}
    (i)と(i)から$A$が，$R$導出の存在する要素の集合$I_R$と等しいことがい
    える．そして(i)はまさに$I_R$が$\widehat{R}$の不動点であることを表し
    ている．さらに，(i)から$I_R$が$\widehat{R}$の\emph{最小不動
      点 (least fixed point)}であること，すなわち
    \[
      \widehat{R}(B) = B\Rightarrow I_R\subseteq B
    \]
    が言える．
  \end{quote}
  とあるのは
  \begin{quote}
    (i) と (iii) から$A$が，$R$導出の存在する要素の集合$I_R$と等しいこ
    とがいえる．そして (ii) はまさに$I_R$が$\widehat{R}$の不動点である
    ことを表している．さらに，(iii) から$I_R$が$\widehat{R}$の\emph{最
      小不動点 (least fixed point)}であること，すなわち
    \[
      \widehat{R}(B) = B\Rightarrow I_R\subseteq B
    \]
    がいえる．
  \end{quote}
  の誤りです．（証明中のアイテムへの参照が壊れておりました．．．）
\end{itemize}

\section*{第5章}

\begin{itemize}
\item P.68,
  「$\mathbf{Bexp}$の表示」の部分において，「\termbooleanexpression{}の
  意味関数は，連言$\wedge_T$,
  選言$\vee_T$，否定$\neg_T$という真偽値の集合$T$上の論理演算を用いて与
  えられる．」は「\termbooleanexpression{}の意味関数は，連
  言$\wedge_T$,
  選言$\vee_T$，否定$\neg_T$という真偽値の集合$\mathbf{T}$上の論理演算
  を用いて与えられる．」の誤りです．
\item P.69, 「$\mathbf{Com}$の表示」の部分において，
  \begin{align*}
      \denotation{C}{w} = {} & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true} \AND (\sigma,\sigma')\in\denotation{C}{c;w}\}\cup {}\\
                             & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\} \\
      = {} & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true} \AND (\sigma,\sigma')\in \denotation{C}{w} \circ \denotation{C}{c} \}\cup {}\\
                             & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
  \end{align*}
  は
  \begin{align*}
      \denotation{C}{w} = {} & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true} \AND (\sigma,\sigma')\in\denotation{C}{c;w}\}\cup {}\\
                             & \{(\sigma,\sigma)\mid  \denotation{B}{b}\sigma=\mathbf{false}\} \\
      = {} & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true} \AND (\sigma,\sigma')\in \denotation{C}{w} \circ \denotation{C}{c} \}\cup {}\\
                             & \{(\sigma,\sigma)\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
  \end{align*}
  の誤りです．また，これに続く
  \begin{align*}
    \varphi = {} & \{(\sigma,\sigma')\mid \beta(\sigma)=\mathbf{true} \AND
                   (\sigma,\sigma')\in \varphi\circ\gamma \} \cup {} \\
                 & \{(\sigma,\sigma')\mid \beta(\sigma)=\mathbf{false} \}
  \end{align*}
  は
  \begin{align*}
    \varphi = {} & \{(\sigma,\sigma')\mid \beta(\sigma)=\mathbf{true} \AND
                   (\sigma,\sigma')\in \varphi\circ\gamma \} \cup {} \\
                 & \{(\sigma,\sigma)\mid \beta(\sigma)=\mathbf{false} \}
  \end{align*}
  の誤りです．
\item P.70, 上から3行目:
  \[
    \begin{array}{l}
      \exists{\sigma''}\ \beta(\sigma)=\mathbf{true}\AND
      (\sigma,\sigma'')\in\gamma \AND
      (\sigma'',\sigma')\in\varphi
    \end{array}
  \]
  は
  \[
    \begin{array}{l}
      \exists{\sigma''}. \beta(\sigma)=\mathbf{true}\AND
      (\sigma,\sigma'')\in\gamma \AND
      (\sigma'',\sigma')\in\varphi
    \end{array}
  \]
  の誤りです．（本書では量化子の後に必ずピリオドをつける構文を使ってい
  ます．1.1節参照．）また，それに続く
  \[
    (\sigma,\sigma)\mid  \beta(\varphi)=\mathbf{false}
  \]
  は
  \[
    (\sigma,\sigma)\mid  \beta(\sigma)=\mathbf{false}
  \]
  の誤りです．
\item P.70, $R$の定義の右辺:
  \begin{align*}
    R = {} &\{(\{(\sigma'',\sigma)\}/(\sigma,\sigma'))\mid
             \beta(\sigma)=\mathbf{true}\AND
             (\sigma,\sigma'')\in\gamma \} \cup \\
           &\{(\emptyset/(\sigma,\sigma))\mid \beta(\sigma)=\mathbf{false}\}
  \end{align*}
  は
  \begin{align*}
    R = {} &\{(\{(\sigma'',\sigma')\}/(\sigma,\sigma'))\mid
             \beta(\sigma)=\mathbf{true}\AND
             (\sigma,\sigma'')\in\gamma \} \cup \\
           &\{(\emptyset/(\sigma,\sigma))\mid \beta(\sigma)=\mathbf{false}\}
  \end{align*}
  の誤りです．
\item P.72, 補題5.3の証明:
  \[
    P(a)\Longleftrightarrow
    \denotation{A}{a}=\{ (\sigma,n) \mid   \tuple{a,\sigma}\rightarrow n\}
  \]
  は
  \[
    P(a)\Longleftrightarrow_{\mathit{def}}
    \denotation{A}{a}=\{ (\sigma,n) \mid   \tuple{a,\sigma}\rightarrow n\}
  \]
  の誤りです．
\item P.73, 構造帰納法による証明の $a \equiv X$ のケース:
  \[
    \begin{array}{l@{}l}
      (\sigma, n)\in\denotation{A}{m}
      & {} \Longleftrightarrow (\sigma\in\Sigma\AND n\equiv \sigma(X)) \\
      & {} \Longleftrightarrow \tuple{X,\sigma}\rightarrow n
    \end{array}
  \]
  は
  \[
    \begin{array}{l@{}l}
      (\sigma, n)\in\denotation{A}{X}
      & {} \Longleftrightarrow (\sigma\in\Sigma\AND n\equiv \sigma(X)) \\
      & {} \Longleftrightarrow \tuple{X,\sigma}\rightarrow n
    \end{array}
  \]
  の誤りです．
\item P.74, 補題5.4の証明:
    \[
      P(b)\Longleftrightarrow
      \denotation{B}{b}=\{ (\sigma,t) \mid   \tuple{b,\sigma}\rightarrow t\}
    \]
    は
    \[
      P(b)\Longleftrightarrow_{\mathit{def}}
      \denotation{B}{b}=\{ (\sigma,t) \mid   \tuple{b,\sigma}\rightarrow t\}
    \]
    の誤りです．
  \item P.76, 補題5.6の証明:
    \[
      P(c,\sigma,\sigma')
      \Longleftrightarrow
      (\sigma,\sigma')\in\denotation{C}{c}
    \]
    は
    \[
      P(c,\sigma,\sigma')
      \Longleftrightarrow_{\mathit{def}}
      (\sigma,\sigma')\in\denotation{C}{c}
    \]
    の誤りです．
    また，その後ろの
    \[
      \tuple{b,\sigma}\rightarrow\mathbf{true}\AND
      \tuple{c,\sigma}\rightarrow\sigma''\AND
      P(c,\sigma,\sigma'') \AND
      \tuple{w,\sigma''}\rightarrow\sigma'\AND
      P(w,\sigma'',\sigma)
    \]
    は
    \[
      \tuple{b,\sigma}\rightarrow\mathbf{true}\AND
      \tuple{c,\sigma}\rightarrow\sigma''\AND
      P(c,\sigma,\sigma'') \AND
      \tuple{w,\sigma''}\rightarrow\sigma'\AND
      P(w,\sigma'',\sigma')
    \]
    の誤りです．
  \item P.77, 定理5.7の証明:
    \begin{align*}
      \denotation{C}{c} = {}
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
        (\sigma,\sigma')\in\denotation{C}{c_0}\}\cup {} \\
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\AND
        (\sigma,\sigma')\in\denotation{C}{c_0}\}  
    \end{align*}
    は
    \begin{align*}
      \denotation{C}{c} = {}
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
        (\sigma,\sigma')\in\denotation{C}{c_0}\}\cup {} \\
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\AND
        (\sigma,\sigma')\in\denotation{C}{c_1}\}  
    \end{align*}
    の誤りです．
  \item P.78, 定理5.7の証明:
    \begin{align*}
      \Gamma(\varphi) = {}
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
        (\sigma,\sigma')\in\varphi\circ\denotation{C}{c_0}\} \cup {} \\
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
    \end{align*}
    は
    \begin{align*}
      \Gamma(\varphi) = {}
      & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
        (\sigma,\sigma')\in\varphi\circ\denotation{C}{c_0}\} \cup {} \\
      & \{(\sigma,\sigma)\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
    \end{align*}
    誤りです．それに続く
    \begin{align*}
      \theta_0 = {} & \emptyset, \\
      \theta_{n+1} = {}
                    & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
                      (\sigma,\sigma')\in\theta_n\circ\denotation{C}{c_0}\} \cup {}\\
                    & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
    \end{align*}
    は
    \begin{align*}
      \theta_0 = {} & \emptyset, \\
      \theta_{n+1} = {}
                    & \{(\sigma,\sigma')\mid  \denotation{B}{b}\sigma=\mathbf{true}\AND
                      (\sigma,\sigma')\in\theta_n\circ\denotation{C}{c_0}\} \cup {}\\
                    & \{(\sigma,\sigma)\mid  \denotation{B}{b}\sigma=\mathbf{false}\}
    \end{align*}
    の誤りです．
  \item P.79, 定理5.7の証明:「帰納法の仮
    定 (5.1) から$\tuple{c,\sigma''}\rightarrow\sigma$である．」は「帰
    納法の仮定 (5.1) から$\tuple{c,\sigma''}\rightarrow\sigma'$である．」
    の誤りです．
  \item P.79, 問題5.8:
    \begin{align*}
      & \forall{i(0\leq i\leq n)}.\;
        \denotation{B}{b}\sigma_i=\mathbf{true}\AND
        \denotation{C}{c}\sigma_i=\sigma_{i+1}
    \end{align*}
    は
    \begin{align*}
      & \forall{i(0\leq i < n)}.\;
        \denotation{B}{b}\sigma_i=\mathbf{true}\AND
        \denotation{C}{c}\sigma_i=\sigma_{i+1}
    \end{align*}
    の誤りです．
  \item P.80,
    問題5.9:「$\tuple{c,\sigma}\rightarrow\sigma'\Leftarrow
    \denotation{C}{c}\sigma=\sigma'$」は
    「$\tuple{c,\sigma}\rightarrow\sigma' \iff
    \denotation{C}{c}\sigma=\sigma'$」の誤りです．
  \item P.82, 問題5.10:
    「部分関数の集合$\Sigma\rightarrow\Sigma$」は
    「部分関数の集合$\Sigma\PARTIAL\Sigma$」
    の誤りです．
  \item P.83,下から7行目:「規則のインスタンス$R$のもとで」は「規則イン
    スタンスの集合$R$のもとで」の誤りです．
  \item P.84, 定理5.11の証明:
    \begin{align*}
      f(\mathit{fix}(f))
      = {} & f(\bigsqcup_{n\in\omega}f^n(\bot)) && \text {（$f$の連続性から）}\\
      = {} & \bigsqcup_{n\in\omega}f^{n+1}(\bot) && \text {（$\bot$と$\bigsqcup$の定義から）}\\
      = {} & (\bigsqcup_{n\in\omega}f^{n+1}(\bot))\sqcup \{\bot\} && \text {（$\bot = f^0(\bot)$より）}\\
      = {} & \bigsqcup_{n\in\omega}f^n(\bot) && \text {（$\mathit{fix}(f)$の定義より）}\\
      = {} & \mathit{fix}(f)
    \end{align*}
    の部分において，各行の$\text
    {（\dots）}$は，その行の${=}$の右辺と，次の行の${=}$の右辺とがなぜ
    等しいと言えるかの説明が書いてあります．例えば，「$\text
    {（$f$の連続性から）}$」の部分
    は，$f(\bigsqcup_{n\in\omega}f^n(\bot))$と
    $\bigsqcup_{n\in\omega}f^{n+1}(\bot)$がなぜ等しいと言えるのかが書い
    てあります．ただし，
        \begin{align*}
      f(\mathit{fix}(f))
      = {} & f(\bigsqcup_{n\in\omega}f^n(\bot)) &&\\
      = {} & \bigsqcup_{n\in\omega}f^{n+1}(\bot) && \text {（$f$の連続性から）}\\
      = {} & (\bigsqcup_{n\in\omega}f^{n+1}(\bot))\sqcup \{\bot\} && \text {（$\bot$と$\bigsqcup$の定義から）}\\
      = {} & \bigsqcup_{n\in\omega}f^n(\bot) &&  \text {（$\bot = f^0(\bot)$より）}\\
      = {} & \mathit{fix}(f) &&  \text {（$\mathit{fix}(f)$の定義より）}\\
    \end{align*}
    のように各説明を一行ずつ下げて，各行の$\text{（\dots）}$が，その行
    の${=}$の右辺と，その前の行の${=}$の右辺とが等しい理由を説明する方
    が標準的かもしれません．
  \item P.85, 下から6行目:「この考え方は以前にも，規則
    の\terminstance{}の集合が連続な演算子を定めるのは」は「この考え方は
    以前にも，規則の\terminstance{}の集合が連続な演算を定めるのは」の誤
    りです．（原著の operator を，本書では「演算」と訳すことにしていま
    す．）
  \item P.86, 下から12行目: 「演算子$\widehat{R}$」は「演
    算$\widehat{R}$」の誤りです．
\end{itemize}

\section*{第6章}

\begin{itemize}
\item P.95, 6.2.2節:
  \[
    A[a/i] \equiv - - - i - - - i - --
  \]
  は
  \[
    A[a/i] \equiv - - - a - - - a - --
  \]
  の誤りです．
\item P.96, 6.2.2節, $\mathbf{Assn}$の元での代入の定義:
  量化子を含む元での代入の定義が
  \begin{align*}
    (\forall{j}.A)[a/i] \equiv_{\mathit{def}} \forall{j}.(A[a/i]) \quad & (\exists{j}.A)[a/i] \equiv_{\mathit{def}} \exists{j}.(A[a/i])
  \end{align*}
  となっていますが，束縛変数が$i$であるケースを訳し忘れていました．
  \begin{align*}
    (\forall{j}.A)[a/i] \equiv_{\mathit{def}} \forall{j}.(A[a/i]) \quad & (\forall{i}.A)[a/i] \equiv_{\mathit{def}} \forall{i}.A\\
    (\exists{j}.A)[a/i] \equiv_{\mathit{def}} \exists{j}.(A[a/i]) \quad & (\exists{i}.A)[a/i] \equiv_{\mathit{def}} \exists{i}.A
  \end{align*}
  の誤りです．
\item P.98,
  「表明$\mathbf{Assn}$の意味」の部分:「解釈関数の役割は，整数変数の解
  釈として$N$内の値を与えることである．」は「解釈関数の役割は，整数変数
  の解釈として$\mathbf{N}$内の値を与えることである．」の誤りです．
\item P.104, 補題6.9:
  \[
    \sigma \models^I B[a/X] \iff \sigma[\DAexpv\sem{a}\sigma/X] \models^I B
  \]
  は
  \[
    \sigma \models^I B[a/X] \iff \sigma[\DAexp\sem{a}\sigma/X] \models^I B
  \]
  の誤りです．
\item P.105,
  補題6.9の証明の「代入の規則」の部分:「$\sigma \models^I B[a/X] \iff
  \sigma[\DAexpv\sem{a}\sigma/X] \models^I
  B$」は「$\sigma \models^I B[a/X] \iff \sigma[\DAexp\sem{a}\sigma/X]
  \models^I B$」の誤りです．
\item P.106, 定理6.11の証明, 「while
  ループの規則」の部分:「$\models \preCond{A \land b} \land
  \postCond{A}$」は「$\models \preCond{A \land b} c \postCond{A}$」の誤
  りです．
\item P.108, 下から14行目:
  \begin{quote}
    したがって，帰結の規則を用いれば
    \[
      \preCond{(X = n) \land (Y=1)} w \postCond{Y = n!}
    \]
    が成り立つことが分かる．
  \end{quote}
  は
  \begin{quote}
    したがって，帰結の規則を用いれば
    \[
      \preCond{(X = n) \land n \ge 0 \land (Y=1)} w \postCond{Y = n!}
    \]
    が成り立つことが分かる．
  \end{quote}
  の誤りです．
\end{itemize}

\section*{第7章}

\begin{itemize}
\item P.114, 脚注:
  \begin{quote}
    完全性定理は，述語論理の証明システムによって証明可能な表明は任意の
    解釈のもとで妥当であることを主張している．
  \end{quote}
  は
  \begin{quote}
    完全性定理は，述語論理の証明システムは，任意の解釈のもとで妥当であ
    るような表明をすべて証明できることを主張している．
  \end{quote}
  の誤りです．（原著の脚注は「完全性定理は，述語論理の証明システムによっ
  て証明可能な表明は，任意の解釈のもとで妥当であるような表明と一致する」
  とも読めるように思えるのですが，完全性定理の説明としては，「完全性定
  理は，述語論理の証明システムは，任意の解釈のもとで妥当であるような表
  明をすべて証明できることを主張している．」とするほうが良いように思え
  ます．いずれにしても，「完全性定理は，述語論理の証明システムによって
  証明可能な表明は任意の解釈のもとで妥当であることを主張している．」で
  は述語論理の証明システムの健全性の説明となりますので，これは誤りで
  す．）
\item P.116: $\mathbf{Assn}$が ``expressive'' であることを，本書で
  は$\mathbf{Assn}$が「表現可能」と訳しましたが，この訳語の選択はあまり
  適当ではないかもしれませ
  ん．$\mathbf{Assn}$が ``expressive'' とはP.116の定義にあるよう
  に，$\mathbf{Assn}$
  が任意のコマンド$c$と任意の事後条件$B$について，任意の解釈について最
  弱自由事前条件をとなるような表明が$\mathbf{Assn}$で書けることを指しま
  す．すなわち，最弱自由事前条件を表現できるというの
  が ``expressiveness'' の趣旨なので，「表現力豊か」とでも訳すべきかも
  しれません．
\item P.118, 定理7.5の証明:
  \[
    \sigma \models^I  w\lrbra{c,B}^I
    \Leftrightarrow
    \DCom\lrbra{c}\sigma \models^I B
  \]
  は
  \[
    \sigma \models^I  w\lrbra{c,B}
    \Leftrightarrow
    \DCom\lrbra{c}\sigma \models^I B
  \]
  の誤りです．
\item P.120, 上から3行目:
  \begin{align*}
    & \sigma \models^I A \text{ およびそのときに限り }
      \models^I A[\bar{s}/\bar{X}]
      \tag{$\ast$}
  \end{align*}
  とあるのは，記法の統一上は
  \begin{align*}
    & \sigma \models^I A \iff
      \models^I A[\bar{s}/\bar{X}]
      \tag{$\ast$}
  \end{align*}
  と書くべきところです．
\item P.120, 上から5行目「この事実は構造帰納法で証明できる」の後にピリ
  オドが抜けていました．
\item P.121, 1行目:
  \begin{align*}
    \DCom\lrbra{c_0}\sigma_{i} = \sigma_{i+1} 
    & ~\Leftrightarrow~
      (w\lrbra{c_0, \bar{X}=\bar{s}_{i+1}} 
      \wedge \neg w\lrbra{c_0,\Tfalse})
    \\
    & ~\Leftrightarrow~
      (w\lrbra{c_0, \bar{X}=\bar{s}_{i+1}} 
      \wedge \neg w\lrbra{c_0,\Tfalse})[\bar{s}_i/\bar{X}]
    &&  (\ast)より.
  \end{align*}
  は
  \begin{align*}
    \DCom\lrbra{c_0}\sigma_{i} = \sigma_{i+1} 
    & ~\Leftrightarrow~
      \sigma_i \models^I (w\lrbra{c_0, \bar{X}=\bar{s}_{i+1}} 
      \wedge \neg w\lrbra{c_0,\Tfalse})
    \\
    & ~\Leftrightarrow~
      \models^I (w\lrbra{c_0, \bar{X}=\bar{s}_{i+1}} 
      \wedge \neg w\lrbra{c_0,\Tfalse})[\bar{s}_i/\bar{X}]
    &&  (\ast)より.
  \end{align*}
  の誤りです．
\item P.122,
  下から12行目:「$\preCond{w\lrbra{c,B}} c \postCond{B}$が成り立つ．」
  は「$\vdash \preCond{w\lrbra{c,B}} c \postCond{B}$が成り立つ．」の誤
  りです．
\item P.123,
  上から10行目:「$[ (b \wedge w\lrbra{c_0,B}) \lor (\neg b \wedge
  w\lrbra{c_1,B})]$」は「$\sigma \models^I [ (b \wedge w\lrbra{c_0,B})
  \lor (\neg b \wedge w\lrbra{c_1,B})]$」の誤りです．また，その後の「条
  件分岐の規則により$\vdash \preCond{w\lrbra{c,B}}c_0 \postCond{B}$が得
  られる．」は「条件分岐の規則により$\vdash \preCond{w\lrbra{c,B}}c
  \postCond{B}$が得られる．」の誤りです．
\item P.126, 一番下の行:「\emph{原始帰納的関数}」に原語が抜けていました．
  「\emph{原始帰納的関数 (primitive recursive function)}」の誤りです．
\item P.128, 下から4行目:
  \begin{align*}
    \mathit{vc}(\preCond{A}c_0; \preCond{D} c_1\postCond{B}) & =
                                                               \mathit{vc}(\preCond{A}c \postCond{D}) \cup \mathit{vc}(\preCond{D}c\postCond{B})
  \end{align*}
  は
  \begin{align*}
    \mathit{vc}(\preCond{A}c_0; \preCond{D} c_1\postCond{B}) & =
                                                               \mathit{vc}(\preCond{A}c_0 \postCond{D}) \cup \mathit{vc}(\preCond{D}c_1 \postCond{B})
  \end{align*}
  の誤りです．
\item P.132,
  \begin{align*}
    \text{ ただし，}&\text{$\overline{b} = \set{\sigma \mid \sigma = \bot \mbox{または} \DBexp}$}\\
  \end{align*}
  は
  \begin{align*}
    \text{ ただし，}&\text{$\overline{b} =_{\mathit{def}} \set{\sigma \mid \sigma = \bot \mbox{または} \DBexp\sem{b}\sigma = \mathbf{true}}$}\\
  \end{align*}
  また，
  「ただし$G \COL \PT \rightarrow \PT$は$G(p)(Q) =
  (\overline{b} \cap \Pt\sem{c_0}(p(Q))) \cup (\overline{\neg b} \cap
  Q)$で与えられる．」は
  「ただし$G \COL \PT \rightarrow \PT$は$G(p)(Q) =
  (\overline{b} \cap \Pt\sem{c}(p(Q))) \cup (\overline{\neg b} \cap
  Q)$で与えられる．」の誤りです．
\end{itemize}

\section*{謝辞}

本翻訳の誤りをご報告いただいた以下の方々に深く感謝申し上げます: gaxiiiiiiiiiiii様，hackermaskee様，衣笠公陽様．

\end{document}
